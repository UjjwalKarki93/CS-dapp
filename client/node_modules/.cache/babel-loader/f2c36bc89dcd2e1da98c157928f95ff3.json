{"ast":null,"code":"var _jsxFileName = \"D:\\\\CS-dapp\\\\Client\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport bcs from \"./contracts/bcs.json\";\nimport AccountVerfication from \"./contracts/AccountVerification.json\";\nimport getWeb3 from \"./getWeb3\";\nimport Formate from './utils/Formate';\nimport 'semantic-ui-css/semantic.min.css';\nimport { Menu } from \"semantic-ui-react\";\nimport { BrowserRouter, Switch, Route, Link, Redirect } from 'react-router-dom';\nimport Home from './components/Home';\nimport SignUp from \"./components/SignUp\";\nimport SignIn from \"./components/SignIn\";\nimport SignOut from \"./components/SignOut\";\nimport Dashboard from \"./components/Dashboard\";\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      web3: null,\n      account: null,\n      contractA: null,\n      contractB: null,\n      caddress: null,\n      balance: null,\n      activeItem: 'home',\n      signedUp: false,\n      loggedIn: false,\n      username: ''\n    };\n\n    this.handleItemClick = (e, {\n      name\n    }) => this.setState({\n      activeItem: name,\n      color: 'red'\n    });\n\n    this.componentDidMount = async () => {\n      try {\n        // Get network provider and web3 instance.\n        const web3 = await getWeb3(); // Use web3 to get the user's accounts.\n\n        const accounts = await web3.eth.getAccounts();\n        window.ethereum.on('accountsChanged', function (account) {\n          windows.location.reload(true);\n        }); // Get the AccountVerification contract instance.\n\n        const networkIdA = await web3.eth.net.getId();\n        const deployedNetworkA = AccountVerfication.networks[networkIdA];\n        const contract1 = new web3.eth.Contract(AccountVerfication.abi, deployedNetworkA && deployedNetworkA.address); // Get the BCS contract instance.\n\n        const networkIdB = await web3.eth.net.getId();\n        const deployedNetworkB = bcs.networks[networkIdB];\n        const contract2 = new web3.eth.Contract(bcs.abi, deployedNetworkB && deployedNetworkB.address);\n        const address = deployedNetworkB.address; // Set web3, accounts, and contract to the state, and then proceed with an\n        // example of interacting with the contract's methods.\n\n        this.setState({\n          web3,\n          account: accounts[0],\n          contractA: contract1,\n          contractB: contract2,\n          caddress: address\n        }, this.start);\n      } catch (error) {\n        // Catch any errors for any of the above operations.\n        alert(\"Failed to load web3, accounts, or contract. Check console for details.\");\n        console.error(error);\n      }\n    };\n\n    this.start = async () => {\n      const _this$state = this.state,\n            web3 = _this$state.web3,\n            account = _this$state.account,\n            contractA = _this$state.contractA,\n            contractB = _this$state.contractB,\n            caddress = _this$state.caddress;\n      console.log(\"web3 =\", web3);\n      console.log(\"ContractA =\", contractA);\n      console.log(\"ContractB =\", contractB);\n      console.log(\"Caddress =\", caddress);\n      console.log(\"Acoount =\", account);\n    };\n\n    this.getAccount = async () => {\n      if (this.state.web3 !== null || this.state.web3 !== undefined) {\n        await window.ethereum.on('accountsChanged', async accounts => {\n          this.setState({\n            account: accounts[0],\n            loggedIn: false\n          });\n          this.state.web3.eth.getBalance(accounts[0], (err, balance) => {\n            if (!err) {\n              this.setState({\n                balance: Formate(this.state.web3.utils.fromWei(balance, 'ether'))\n              });\n            }\n          });\n        });\n      }\n    };\n\n    this.accountCreated = async signedUp => {\n      this.setState({\n        signedUp\n      });\n    };\n\n    this.userSignedIn = async (loggedIn, username) => {\n      this.setState({\n        loggedIn,\n        username\n      });\n    };\n\n    this.loggedOut = async loggedIn => {\n      this.setState({\n        loggedIn\n      });\n    };\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          activeItem = _this$state2.activeItem,\n          color = _this$state2.color;\n\n    if (!this.state.web3) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Users are requested to get connected to METAMASK before using this dAPP\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"main-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"home-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      stackable: true,\n      inverted: true,\n      secondary: true,\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      name: \"home\",\n      position: \"right\",\n      color: color,\n      active: activeItem === 'home',\n      onClick: this.handleItemClick,\n      as: Link,\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), !this.state.loggedIn ? React.createElement(Menu.Item, {\n      position: \"right\",\n      name: \"sign in\",\n      color: color,\n      active: activeItem === 'sign in',\n      onClick: this.handleItemClick,\n      as: Link,\n      to: \"/sign-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }) : console.log(''), this.state.loggedIn ? React.createElement(Menu.Item, {\n      name: \"sign out\",\n      color: \"red\",\n      active: activeItem === 'sign out',\n      onClick: this.handleItemClick,\n      as: Link,\n      to: \"/sign-out\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }) : React.createElement(Menu.Item, {\n      name: \"sign up\",\n      color: color,\n      active: activeItem === 'sign up',\n      onClick: this.handleItemClick,\n      as: Link,\n      to: \"/sign-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }))), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Home, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    })), React.createElement(Route, {\n      path: \"/sign-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, this.state.loggedIn ? React.createElement(Redirect, {\n      to: \"/dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }) : React.createElement(SignIn, {\n      web3: this.state.web3,\n      contract: this.state.contractA,\n      account: this.state.account,\n      signedUp: this.state.signedUp,\n      userSignedIn: this.userSignedIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    })), this.state.loggedIn ? React.createElement(Route, {\n      path: \"/dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(Dashboard, {\n      web3: this.state.web3,\n      contract: this.state.contractB,\n      caddress: this.state.caddress,\n      account: this.state.account,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    })) : React.createElement(Route, {\n      path: \"/sign-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(SignUp, {\n      web3: this.state.web3,\n      contract: this.state.contractA,\n      account: this.state.account,\n      accountCreated: this.accountCreated,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    })), this.state.loggedIn ? React.createElement(Route, {\n      path: \"/sign-out\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(SignOut, {\n      loggedOut: this.loggedOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    })) : React.createElement(Route, {\n      path: \"/sign-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(SignUp, {\n      web3: this.state.web3,\n      contract: this.state.contractA,\n      account: this.state.account,\n      accountCreated: this.accountCreated,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/CS-dapp/Client/src/App.js"],"names":["React","Component","bcs","AccountVerfication","getWeb3","Formate","Menu","BrowserRouter","Switch","Route","Link","Redirect","Home","SignUp","SignIn","SignOut","Dashboard","App","state","web3","account","contractA","contractB","caddress","balance","activeItem","signedUp","loggedIn","username","handleItemClick","e","name","setState","color","componentDidMount","accounts","eth","getAccounts","window","ethereum","on","windows","location","reload","networkIdA","net","getId","deployedNetworkA","networks","contract1","Contract","abi","address","networkIdB","deployedNetworkB","contract2","start","error","alert","console","log","getAccount","undefined","getBalance","err","utils","fromWei","accountCreated","userSignedIn","loggedOut","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport bcs from \"./contracts/bcs.json\";\r\nimport AccountVerfication from \"./contracts/AccountVerification.json\"\r\nimport getWeb3 from \"./getWeb3\";\r\nimport Formate from './utils/Formate';\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport { Menu } from \"semantic-ui-react\";\r\nimport { BrowserRouter, Switch, Route, Link, Redirect } from 'react-router-dom';\r\nimport Home from './components/Home';\r\nimport SignUp from \"./components/SignUp\";\r\nimport SignIn from \"./components/SignIn\"\r\nimport SignOut from \"./components/SignOut\";\r\nimport Dashboard from \"./components/Dashboard\";\r\nimport \"./App.css\";\r\n\r\n\r\nclass App extends Component {\r\n  state = { web3: null,\r\n     account: null,\r\n     contractA: null,\r\n     contractB:null,\r\n     caddress:null,\r\n    balance: null,\r\n    activeItem: 'home',\r\n    signedUp: false,\r\n    loggedIn: false,\r\n    username: ''\r\n  };\r\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name, color: 'red' })\r\n  componentDidMount = async () => {\r\n    try {\r\n      // Get network provider and web3 instance.\r\n      const web3 = await getWeb3();\r\n\r\n      // Use web3 to get the user's accounts.\r\n      const accounts = await web3.eth.getAccounts();\r\n\r\n      window.ethereum.on('accountsChanged',function(account){\r\n        windows.location.reload(true)\r\n      })\r\n\r\n      // Get the AccountVerification contract instance.\r\n      const networkIdA = await web3.eth.net.getId();\r\n      const deployedNetworkA = AccountVerfication.networks[networkIdA];\r\n      const contract1 = new web3.eth.Contract(\r\n        AccountVerfication.abi,\r\n        deployedNetworkA && deployedNetworkA.address,\r\n      );\r\n\r\n\r\n        \r\n   // Get the BCS contract instance.\r\n    const networkIdB = await web3.eth.net.getId();\r\n    const deployedNetworkB = bcs.networks[networkIdB];\r\n    const contract2 = new web3.eth.Contract(\r\n     bcs.abi,\r\n    deployedNetworkB && deployedNetworkB.address,);\r\n    const address = deployedNetworkB.address;\r\n\r\n\r\n      // Set web3, accounts, and contract to the state, and then proceed with an\r\n      // example of interacting with the contract's methods.\r\n      this.setState({ web3, account:accounts[0], contractA: contract1,contractB: contract2,caddress:address},this.start);\r\n    } catch (error) {\r\n      // Catch any errors for any of the above operations.\r\n      alert(\r\n        `Failed to load web3, accounts, or contract. Check console for details.`,\r\n      );\r\n      console.error(error);\r\n    }\r\n\r\n  };\r\n  start = async () => {\r\n   \r\n    const { web3,account,contractA,contractB,caddress } = this.state;\r\n    \r\n    console.log(\"web3 =\", web3);\r\n    console.log(\"ContractA =\", contractA);\r\n    console.log(\"ContractB =\", contractB);\r\n    console.log(\"Caddress =\", caddress);\r\n    console.log(\"Acoount =\", account);\r\n  };\r\n\r\n\r\n getAccount = async () => {\r\n    if (this.state.web3 !== null || this.state.web3 !== undefined) {\r\n      await window.ethereum.on('accountsChanged', async (accounts) => {\r\n        this.setState({\r\n          account: accounts[0],\r\n          loggedIn: false\r\n        });\r\n\r\n        this.state.web3.eth.getBalance(accounts[0], (err, balance) => {\r\n          if (!err) {\r\n            this.setState({ balance: Formate(this.state.web3.utils.fromWei(balance, 'ether')) });\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  accountCreated = async (signedUp) => {\r\n    this.setState({ signedUp });\r\n  }\r\n\r\n  userSignedIn = async (loggedIn, username) => {\r\n    this.setState({ loggedIn, username });\r\n  }\r\n\r\n  loggedOut = async (loggedIn) => {\r\n    this.setState({ loggedIn });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { activeItem, color } = this.state;\r\n    if (!this.state.web3) {\r\n      return <div>Users are requested to get connected to METAMASK before using this dAPP</div>;\r\n    }\r\n    return (\r\n      <div className=\"App\">\r\n      <div className=\"main-page\">\r\n        <BrowserRouter>\r\n          <div className=\"home-nav\">\r\n            <Menu stackable inverted secondary size='large'>\r\n              <Menu.Item\r\n                name='home'\r\n                position='right'\r\n                color={color}\r\n                active={activeItem === 'home'}\r\n                onClick={this.handleItemClick}\r\n                as={Link}\r\n                to='/'\r\n              />\r\n             \r\n            \r\n              {\r\n                !this.state.loggedIn ?\r\n                  <Menu.Item\r\n                    position='right'\r\n                    name='sign in'\r\n                    color={color}\r\n                    active={activeItem === 'sign in'}\r\n                    onClick={this.handleItemClick}\r\n                    as={Link}\r\n                    to='/sign-in'\r\n                  />\r\n                  :\r\n                  console.log('')\r\n              }\r\n\r\n              {\r\n                this.state.loggedIn ?\r\n                  <Menu.Item\r\n                    name='sign out'\r\n                    color='red'\r\n                    active={activeItem === 'sign out'}\r\n                    onClick={this.handleItemClick}\r\n                    as={Link}\r\n                    to='/sign-out'\r\n                  />\r\n                  :\r\n                  <Menu.Item\r\n                    name='sign up'\r\n                    color={color}\r\n                    active={activeItem === 'sign up'}\r\n                    onClick={this.handleItemClick}\r\n                    as={Link}\r\n                    to='/sign-up'\r\n                  />\r\n              }\r\n            </Menu>\r\n          </div>\r\n\r\n\r\n          <Switch>\r\n            <Route exact path='/' >\r\n              <Home />\r\n            </Route>\r\n            \r\n            {\r\n              <Route path='/sign-in' >\r\n                {\r\n                  this.state.loggedIn ?\r\n                    <Redirect to='/dashboard' />\r\n                    :\r\n                    <SignIn\r\n                      web3={this.state.web3}\r\n                      contract={this.state.contractA}\r\n                      account={this.state.account}\r\n                      signedUp={this.state.signedUp}\r\n                      userSignedIn={this.userSignedIn}\r\n                    />\r\n            \r\n                }\r\n              </Route>\r\n            }\r\n            \r\n\r\n            {\r\n                this.state.loggedIn ?\r\n                  <Route path='/dashboard' >\r\n                  <Dashboard \r\n                    web3={this.state.web3}\r\n                    contract={this.state.contractB}\r\n                    caddress={this.state.caddress}\r\n                    account={this.state.account}\r\n                  />\r\n                  </Route>\r\n                  :\r\n                  <Route path='/sign-up' >\r\n                  <SignUp\r\n                    web3={this.state.web3}\r\n                    contract={this.state.contractA}\r\n                    account={this.state.account}\r\n                    accountCreated={this.accountCreated}\r\n                  />\r\n\r\n                  </Route>\r\n              }\r\n\r\n            {\r\n              this.state.loggedIn ?\r\n              <Route path='/sign-out'>\r\n              <SignOut\r\n                loggedOut={this.loggedOut}\r\n              />\r\n            </Route>\r\n                :\r\n                <Route path='/sign-up' >\r\n                  <SignUp\r\n                    web3={this.state.web3}\r\n                    contract={this.state.contractA}\r\n                    account={this.state.account}\r\n                    accountCreated={this.accountCreated}\r\n                  />\r\n                </Route>\r\n            }\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </div>\r\n    </div>\r\n     \r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}